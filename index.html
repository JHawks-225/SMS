<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Chat de Classe</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="app">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <h2>ğŸ’¬ Chat</h2>

    <button onclick="openGeneral()"># GÃ©nÃ©ral</button>
    <button onclick="openPrivate()">ğŸ‘¤ PrivÃ©</button>
    <button onclick="openGroup()">ğŸ‘¥ Nouveau groupe</button>

    <hr>

    <h3>Utilisateurs</h3>
    <ul id="users">
      <!-- injectÃ© dynamiquement -->
    </ul>
  </aside>

  <!-- CHAT -->
  <main class="chat">

    <header class="chat-header">
      <h2 id="chat-title">Discussion gÃ©nÃ©rale</h2>
    </header>

    <div class="messages" id="messages">
      <!-- messages -->
    </div>

    <div class="input-zone">
      <input type="text" id="messageInput" placeholder="Ã‰cris ton message...">
      <button onclick="sendMessage()">Envoyer</button>
    </div>

  </main>

</div>

<script>
let currentChat = "general";

function openGeneral() {
  currentChat = "general";
  document.getElementById("chat-title").textContent = "Discussion gÃ©nÃ©rale";
  clearMessages();
}

function openPrivate() {
  document.getElementById("chat-title").textContent = "Discussions privÃ©es";
  clearMessages();
}

function openGroup() {
  const name = prompt("Nom du groupe ?");
  if (name) {
    alert("Groupe '" + name + "' crÃ©Ã© (logique serveur Ã  venir)");
  }
}

function sendMessage() {
  const input = document.getElementById("messageInput");
  if (!input.value) return;

  const msg = document.createElement("div");
  msg.className = "message me";
  msg.textContent = input.value;
  document.getElementById("messages").appendChild(msg);

  input.value = "";
}

function clearMessages() {
  document.getElementById("messages").innerHTML = "";
}

// FAUX utilisateurs pour test visuel
const fakeUsers = ["Alex", "Sarah", "Koffi", "Mariam"];
const ul = document.getElementById("users");
fakeUsers.forEach(u => {
  const li = document.createElement("li");
  li.textContent = u;
  li.onclick = () => alert("Discussion privÃ©e avec " + u);
  ul.appendChild(li);
});
</script>

</body>
</html>
